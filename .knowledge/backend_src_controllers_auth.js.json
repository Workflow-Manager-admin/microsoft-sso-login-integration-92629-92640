{"is_source_file": true, "format": "JavaScript", "description": "Source file implementing an authentication controller for Microsoft SSO login via Azure AD/OIDC. Handles login, callback, token validation, and user info endpoints.", "external_files": ["passport", "jsonwebtoken"], "external_methods": ["passport.authenticate", "jwt.sign", "jwt.verify"], "published": ["new AuthController()"], "classes": [{"name": "AuthController", "description": "Controller class managing Microsoft SSO login, callback handling, JWT issuance, and user info retrieval"}], "methods": [{"name": "login(req, res, next)", "description": "Initiates Microsoft login redirect by invoking passport's authenticate method for Azure AD/OIDC.", "scope": "AuthController", "scopeKind": "class"}, {"name": "callback(req, res, next)", "description": "Handles callback after Microsoft login, verifies user, issues JWT token, and redirects to frontend with token.", "scope": "AuthController", "scopeKind": "class"}, {"name": "failure(req, res)", "description": "Returns JSON response indicating authentication failure.", "scope": "AuthController", "scopeKind": "class"}, {"name": "me(req, res)", "description": "Validates JWT token, returns user info if valid, or 401 error if invalid or absent.", "scope": "AuthController", "scopeKind": "class"}], "calls": ["passport.authenticate('azuread-openidconnect')", "jwt.sign(payload, process.env.JWT_SECRET, { expiresIn: '1h' })", "jwt.verify(token, process.env.JWT_SECRET)"], "search-terms": ["Microsoft SSO", "Azure AD", "OIDC", "AuthController", "JWT", "callback", "login", "auth", "passport", "jsonwebtoken"], "state": 2, "file_id": 14, "knowledge_revision": 29, "git_revision": "", "ctags": [{"_type": "tag", "name": "AuthController", "path": "/home/kavia/workspace/code-generation/microsoft-sso-login-integration-92629-92640/backend/src/controllers/auth.js", "pattern": "/^class AuthController {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "callback", "path": "/home/kavia/workspace/code-generation/microsoft-sso-login-integration-92629-92640/backend/src/controllers/auth.js", "pattern": "/^  callback(req, res, next) {$/", "language": "JavaScript", "kind": "method", "signature": "(req, res, next)", "scope": "AuthController", "scopeKind": "class"}, {"_type": "tag", "name": "exports", "path": "/home/kavia/workspace/code-generation/microsoft-sso-login-integration-92629-92640/backend/src/controllers/auth.js", "pattern": "/^module.exports = new AuthController();$/", "language": "JavaScript", "kind": "variable", "scope": "module", "scopeKind": "class"}, {"_type": "tag", "name": "failure", "path": "/home/kavia/workspace/code-generation/microsoft-sso-login-integration-92629-92640/backend/src/controllers/auth.js", "pattern": "/^  failure(req, res) {$/", "language": "JavaScript", "kind": "method", "signature": "(req, res)", "scope": "AuthController", "scopeKind": "class"}, {"_type": "tag", "name": "jwt", "path": "/home/kavia/workspace/code-generation/microsoft-sso-login-integration-92629-92640/backend/src/controllers/auth.js", "pattern": "/^const jwt = require('jsonwebtoken');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "login", "path": "/home/kavia/workspace/code-generation/microsoft-sso-login-integration-92629-92640/backend/src/controllers/auth.js", "pattern": "/^  login(req, res, next) {$/", "language": "JavaScript", "kind": "method", "signature": "(req, res, next)", "scope": "AuthController", "scopeKind": "class"}, {"_type": "tag", "name": "me", "path": "/home/kavia/workspace/code-generation/microsoft-sso-login-integration-92629-92640/backend/src/controllers/auth.js", "pattern": "/^  me(req, res) {$/", "language": "JavaScript", "kind": "method", "signature": "(req, res)", "scope": "AuthController", "scopeKind": "class"}, {"_type": "tag", "name": "passport", "path": "/home/kavia/workspace/code-generation/microsoft-sso-login-integration-92629-92640/backend/src/controllers/auth.js", "pattern": "/^const passport = require('passport');$/", "language": "JavaScript", "kind": "constant"}], "hash": "7fe0ac093a9fabfcb2d056ff18467502", "format-version": 4, "code-base-name": "backend", "filename": "backend/src/controllers/auth.js", "fields": [{"name": "module.exports = new AuthController();", "scope": "module", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"29": ""}]}